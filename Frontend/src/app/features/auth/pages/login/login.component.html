<div class="login-container">
    <div class="login-card-wrapper">
      <div class="login-card">
        <div class="login-header">
          <div class="logo">
            <svg class="logo-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"></path>
              <path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"></path>
              <path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"></path>
              <path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"></path>
            </svg>
            <span class="logo-text">ZeroOps</span>
          </div>
          <h1 class="login-title">Connexion</h1>
          <p class="login-subtitle">Connectez-vous à votre compte pour accéder à votre tableau de bord</p>
        </div>
  
        <div class="divider">
          <span class="divider-text">ou</span>
        </div>
  
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form" novalidate>
          <!-- Error message -->
          <div *ngIf="errorMessage" class="error-message-container" role="alert">
            <span class="error-icon">!</span>
            <span>{{ errorMessage }}</span>
          </div>
  
          <!-- Email field -->
          <div class="form-field">
            <label for="email">Email</label>
            <div class="input-with-icon">
              <input 
                id="email"
                type="email" 
                formControlName="email" 
                placeholder="votre@email.com" 
                autocomplete="email" 
                required
              >
              <span class="input-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect width="20" height="16" x="2" y="4" rx="2"></rect>
                  <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                </svg>
              </span>
            </div>
            <div class="error-message" *ngIf="getFieldError('email')">{{ getFieldError('email') }}</div>
          </div>
  
          <!-- Password field -->
          <div class="form-field">
            <label for="password">Mot de passe</label>
            <div class="input-with-icon">
              <input 
                id="password"
                [type]="hidePassword ? 'password' : 'text'" 
                formControlName="password" 
                placeholder="Votre mot de passe" 
                autocomplete="current-password"
                required
              >
              <button 
                type="button" 
                class="toggle-password" 
                (click)="hidePassword = !hidePassword" 
                [attr.aria-label]="'Cacher le mot de passe'" 
                [attr.aria-pressed]="!hidePassword"
              >
                <svg *ngIf="hidePassword" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"></path>
                  <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"></path>
                  <path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"></path>
                  <line x1="2" x2="22" y1="2" y2="22"></line>
                </svg>
                <svg *ngIf="!hidePassword" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </button>
            </div>
            <div class="error-message" *ngIf="getFieldError('password')">{{ getFieldError('password') }}</div>
          </div>
  
          <!-- Remember Me and Forgot Password -->
          <div class="login-options">
            <div class="checkbox-field">
              <input type="checkbox" id="rememberMe" formControlName="rememberMe">
              <label for="rememberMe">Se souvenir de moi</label>
            </div>
            
            <a href="/forgot-password" class="forgot-password">Mot de passe oublié?</a>
          </div>
  
          <!-- Submit button -->
          <button 
            type="submit" 
            class="submit-btn" 
            [disabled]="loginForm.invalid || isLoading"
            aria-label="Se connecter"
          >
            <span *ngIf="isLoading" class="spinner"></span>
            <span *ngIf="!isLoading">Se connecter</span>
          </button>
  
          <!-- Signup link -->
          <div class="signup-link">
            Vous n'avez pas de compte? <a href="/auth/signup">S'inscrire</a>
          </div>
        </form>
      </div>
    </div>
  </div>
  